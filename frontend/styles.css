:root {
  --green: #21c36a;
  --yellow: #ffbb33;
  --red: #ff4d4f;
  --bg: #0f1115;
  --fg: #e6e6e6;
  --muted: #8a8f98;
  --cell: 6px;
  --gap: 2px;
  --row-gap: 8px;
  --col-gap: 4px;
  --max-width: 1100px;
  --tooltip-bg: rgba(15, 17, 21, 0.95);
  --tooltip-fg: #ffffff;
  --tooltip-border: rgba(255, 255, 255, 0.1);
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; background: var(--bg); color: var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }

header, main, footer { max-width: var(--max-width); margin: 0 auto; padding: 12px; }
header h1 { margin: 8px 0 0 0; }
header p { margin: 4px 0 0 0; color: var(--muted); }

#legend { display: flex; align-items: center; gap: 10px; margin: 12px 0; color: var(--muted); }
#legend .cell { display: inline-block; width: var(--cell); height: var(--cell); border-radius: 2px; }
.cell.green { background: var(--green); }
.cell.yellow { background: var(--yellow); }
.cell.red { background: var(--red); }

#services { margin-top: 12px; }
.service-row { display: grid; grid-template-columns: 180px 1fr; align-items: center; gap: var(--col-gap); margin-bottom: var(--row-gap); }
.service-name { color: var(--fg); font-weight: 600; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Timeline container - fixed grid that matches the number of cells we load */
.timeline {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: var(--cell);
  gap: var(--gap);
  width: 100%;
}

/* Base cell styles */
.hour-cell { width: var(--cell); height: var(--cell); background: #2a2f3a; border-radius: 2px; }
.hour-cell.loading { background: #1b1f27; }

/* Color classes for hour cells */
.hour-cell.green { background: var(--green); }
.hour-cell.yellow { background: var(--yellow); }
.hour-cell.red { background: var(--red); }

/* hover tooltip via native title attribute, optional slight outline */
.hour-cell:hover { outline: 1px solid rgba(255,255,255,0.15); outline-offset: 0; }

/* Custom tooltip */
.custom-tooltip {
  position: absolute;
  background: var(--tooltip-bg);
  color: var(--tooltip-fg);
  border: 1px solid var(--tooltip-border);
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  pointer-events: none;
  z-index: 1000;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
  display: none;
  min-width: 180px;
}

.tooltip-date {
  font-weight: 600;
  margin-bottom: 4px;
}

.tooltip-ping {
  font-size: 13px;
  color: var(--muted);
}

/* Mobile: stack service name above timeline to optimize space */
@media (max-width: 640px) {
  .service-row {
    grid-template-columns: 1fr;
    align-items: start;
    gap: 6px;
  }
  .service-name {
    margin-bottom: 4px;
    white-space: normal; /* allow wrapping on narrow screens */
  }
}

footer { color: var(--muted); margin-top: 16px; }
footer a { color: var(--muted); }